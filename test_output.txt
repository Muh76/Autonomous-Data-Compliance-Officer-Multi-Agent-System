Testing Real RAG Retriever...
2025-11-20 21:55:08 [info     ] Configuration loaded           config_path='/Users/javadbeni/Desktop/Autonomous Data & Compliance Officer Multi-Agent Sysytem/adco_project/adk/config.yaml'
2025-11-20 21:55:09 [info     ] ChromaDB vector store initialized collection=regulations
DEBUG: Attempting to import sentence_transformers...
Traceback (most recent call last):
  File "/Users/javadbeni/Desktop/Autonomous Data & Compliance Officer Multi-Agent Sysytem/adco_project/adk/rag/embeddings.py", line 31, in __init__
    from sentence_transformers import SentenceTransformer
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/sentence_transformers/__init__.py", line 15, in <module>
    from sentence_transformers.cross_encoder import (
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/sentence_transformers/cross_encoder/__init__.py", line 3, in <module>
    from .CrossEncoder import CrossEncoder
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/sentence_transformers/cross_encoder/CrossEncoder.py", line 16, in <module>
    from transformers import (
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 2317, in __getattr__
    module = self._get_module(self._class_to_module[name])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 2347, in _get_module
    raise e
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/utils/import_utils.py", line 2345, in _get_module
    return importlib.import_module("." + module_name, self.__name__)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/anaconda3/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/modeling_utils.py", line 70, in <module>
    from .loss.loss_utils import LOSS_MAPPING
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/loss/loss_utils.py", line 21, in <module>
    from .loss_d_fine import DFineForObjectDetectionLoss
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/loss/loss_d_fine.py", line 21, in <module>
    from .loss_for_object_detection import (
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/loss/loss_for_object_detection.py", line 32, in <module>
    from transformers.image_transforms import center_to_corners_format
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/transformers/image_transforms.py", line 48, in <module>
    import tensorflow as tf
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/__init__.py", line 45, in <module>
    from tensorflow._api.v2 import __internal__
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/_api/v2/__internal__/__init__.py", line 8, in <module>
    from tensorflow._api.v2.__internal__ import autograph
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/_api/v2/__internal__/autograph/__init__.py", line 8, in <module>
    from tensorflow.python.autograph.core.ag_ctx import control_status_ctx # line: 34
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/autograph/core/ag_ctx.py", line 21, in <module>
    from tensorflow.python.autograph.utils import ag_logging
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/autograph/utils/__init__.py", line 17, in <module>
    from tensorflow.python.autograph.utils.context_managers import control_dependency_on_returns
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/autograph/utils/context_managers.py", line 19, in <module>
    from tensorflow.python.framework import ops
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/framework/ops.py", line 45, in <module>
    from tensorflow.python import pywrap_tensorflow
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/pywrap_tensorflow.py", line 34, in <module>
    self_check.preload_check()
  File "/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/self_check.py", line 63, in preload_check
    from tensorflow.python.platform import _pywrap_cpu_feature_guard
ImportError: dlopen(/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so, 0x0002): Library not loaded: @rpath/libtensorflow_cc.2.dylib
  Referenced from: <B562D2C4-1658-38E1-889B-C5E8C456866B> /Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so
  Reason: tried: '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/../../_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so_Ucclib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so_Ucclib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/../../_solib_darwin_x86_64/_Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/bin/../lib/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/bin/../lib/libtensorflow_cc.2.dylib' (no such file), '/usr/local/lib/libtensorflow_cc.2.dylib' (no such file), '/usr/lib/libtensorflow_cc.2.dylib' (no such file, not in dyld cache)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/javadbeni/Desktop/Autonomous Data & Compliance Officer Multi-Agent Sysytem/adco_project/tests/test_real_rag.py", line 42, in <module>
    asyncio.run(test_real_rag())
  File "/Users/javadbeni/anaconda3/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/anaconda3/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/anaconda3/lib/python3.11/asyncio/base_events.py", line 653, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/Users/javadbeni/Desktop/Autonomous Data & Compliance Officer Multi-Agent Sysytem/adco_project/tests/test_real_rag.py", line 17, in test_real_rag
    retriever = Retriever()
                ^^^^^^^^^^^
  File "/Users/javadbeni/Desktop/Autonomous Data & Compliance Officer Multi-Agent Sysytem/adco_project/adk/rag/retriever.py", line 20, in __init__
    self.embedding_generator = embedding_generator or get_embedding_generator()
                                                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/Desktop/Autonomous Data & Compliance Officer Multi-Agent Sysytem/adco_project/adk/rag/embeddings.py", line 59, in get_embedding_generator
    return SentenceTransformerEmbedding(model_name=model_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/javadbeni/Desktop/Autonomous Data & Compliance Officer Multi-Agent Sysytem/adco_project/adk/rag/embeddings.py", line 36, in __init__
    raise ImportError(f"sentence-transformers not installed or failed to import. Error: {e}. Install with: pip install sentence-transformers")
ImportError: sentence-transformers not installed or failed to import. Error: dlopen(/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so, 0x0002): Library not loaded: @rpath/libtensorflow_cc.2.dylib
  Referenced from: <B562D2C4-1658-38E1-889B-C5E8C456866B> /Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so
  Reason: tried: '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/../../_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so_Ucclib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal.so_Ucclib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/../../_solib_darwin_x86_64/_Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Clibtensorflow_Uframework_Uimport_Ulib___Utensorflow/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../../_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/_pywrap_cpu_feature_guard.so.runfiles/org_tensorflow/_solib_darwin_x86_64/_U_S_Stensorflow_Spython_C_Upywrap_Utensorflow_Uinternal_Umacos___Utensorflow_Spython/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/lib/python3.11/site-packages/tensorflow/python/platform/../../libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/bin/../lib/libtensorflow_cc.2.dylib' (no such file), '/Users/javadbeni/anaconda3/bin/../lib/libtensorflow_cc.2.dylib' (no such file), '/usr/local/lib/libtensorflow_cc.2.dylib' (no such file), '/usr/lib/libtensorflow_cc.2.dylib' (no such file, not in dyld cache). Install with: pip install sentence-transformers
